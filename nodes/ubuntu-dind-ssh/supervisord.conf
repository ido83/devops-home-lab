[supervisord]
nodaemon=true
loglevel=info

# ------------------------------------------------------------------------------
# dockerd: runs Docker daemon inside the container.
# WARNING: requires privileged container. For lab simulation only.
# ------------------------------------------------------------------------------
[program:dockerd]
command=/usr/bin/dockerd --host=unix:///var/run/docker.sock --host=tcp://0.0.0.0:2375
autorestart=true
startretries=10
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

# ------------------------------------------------------------------------------
# sshd: key-based Ansible access
# ------------------------------------------------------------------------------
[program:sshd]
command=/usr/sbin/sshd -D
autorestart=true
startretries=10
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

